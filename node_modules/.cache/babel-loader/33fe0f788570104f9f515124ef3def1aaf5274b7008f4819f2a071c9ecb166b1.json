{"ast":null,"code":"import _toConsumableArray from\"C:/Users/UTENTE/Desktop/GitHub/c/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/UTENTE/Desktop/GitHub/c/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{Context}from'../context';import'../style/header.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _React$useContext=React.useContext(Context),users=_React$useContext.users,setUsers=_React$useContext.setUsers,setUserActive=_React$useContext.setUserActive;var navigate=useNavigate();var location=useLocation();console.log(location);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),erroeMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),createAccount=_useState4[0],setCreateAccount=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUserName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];// const [users , setUsers] = useState([{\n//     username : 'Bob' ,\n//     email : 'bob@gmail.com',\n//     password : '1234'\n// }])\nvar handleLogin=function handleLogin(){var findUsers=users.find(function(user){return user.email===email&&user.password===password;});if(findUsers){setUserActive(findUsers.username);localStorage.setItem('login',true);localStorage.setItem('logout',true);navigate(\"\".concat(location.state.to));}else{setErrorMessage('Utent not find!');}};var handleRegister=function handleRegister(){var newUsers={username:userName,email:email,password:password};setUsers([].concat(_toConsumableArray(users),[newUsers]));setUserActive(newUsers.username);localStorage.setItem('login',true);localStorage.setItem('logout',true);navigate(\"\".concat(location.state.to));};useEffect(function(){// Salvataggio dei dati nel localStorage quando l'array degli utenti cambia\nlocalStorage.setItem('users',JSON.stringify(users));},[users]);return/*#__PURE__*/_jsxs(\"div\",{className:\"login-ctn\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-ctn\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"title-login\",children:[\"My Movies\",/*#__PURE__*/_jsx(\"span\",{className:\"span-title\",children:\"rent\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-login-ctn\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#cf4d4d',zIndex:'4',textAlign:'center'},children:location.state.message}),/*#__PURE__*/_jsx(\"p\",{children:\"email: bob@gmail.com ,  pasw: 1234\"}),/*#__PURE__*/_jsx(\"p\",{children:\"is active\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#cf4d4d',fontWeight:'600'},children:erroeMessage}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-login\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}}),createAccount&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",onChange:function onChange(e){return setUserName(e.target.value);}}),createAccount?/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,children:\"Register\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Log In\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[createAccount?\"You have a account...\":\"Don't have a account...\",/*#__PURE__*/_jsx(\"span\",{style:{color:'#cf4d4d',fontWeight:'600',cursor:'pointer'},onClick:function onClick(){return setCreateAccount(!createAccount);},children:createAccount?' Log in':' Create One'})]})]})]}),/*#__PURE__*/_jsx(\"img\",{src:\"/images/loginMyRent.jpg\",alt:\"Login Pages\"})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","Context","Login","useContext","users","setUsers","setUserActive","navigate","location","console","log","erroeMessage","setErrorMessage","createAccount","setCreateAccount","userName","setUserName","password","setPassword","email","setEmail","handleLogin","findUsers","find","user","username","localStorage","setItem","state","to","handleRegister","newUsers","JSON","stringify","color","zIndex","textAlign","message","fontWeight","e","target","value","cursor"],"sources":["C:/Users/UTENTE/Desktop/GitHub/c/src/pages/login.js"],"sourcesContent":["import React , {useState , useEffect} from 'react'\r\nimport { Link , useNavigate, useLocation } from 'react-router-dom'\r\nimport { Context } from '../context'\r\nimport '../style/header.css'\r\n\r\nexport default function Login(){\r\n    const { users,setUsers , setUserActive } = React.useContext(Context)\r\n    const navigate = useNavigate()\r\n    const location = useLocation()\r\n    console.log(location)\r\n    const [erroeMessage , setErrorMessage] = useState('')\r\n    const [createAccount , setCreateAccount] = useState(false)\r\n    const [userName ,setUserName] = useState('')\r\n    const [password ,setPassword] = useState('')\r\n    const [email , setEmail] = useState('')\r\n    // const [users , setUsers] = useState([{\r\n    //     username : 'Bob' ,\r\n    //     email : 'bob@gmail.com',\r\n    //     password : '1234'\r\n    // }])\r\n    \r\n    const handleLogin = () => {\r\n        const findUsers = users.find(user => user.email === email && user.password === password )\r\n        if(findUsers){\r\n            setUserActive(findUsers.username)\r\n            localStorage.setItem('login' , true)\r\n            localStorage.setItem('logout' , true) \r\n            navigate(`${location.state.to}`)\r\n        }else{\r\n            setErrorMessage('Utent not find!')\r\n        }\r\n    }\r\n    const handleRegister = () => {\r\n        const newUsers = {\r\n            username : userName ,\r\n            email : email ,\r\n            password : password\r\n        }\r\n        setUsers([...users , newUsers])\r\n        setUserActive(newUsers.username)\r\n        localStorage.setItem('login' , true)\r\n        localStorage.setItem('logout' , true)  \r\n        navigate(`${location.state.to}`)\r\n    }\r\n    useEffect(() => {\r\n        // Salvataggio dei dati nel localStorage quando l'array degli utenti cambia\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n      }, [users]);\r\n\r\n    return(\r\n        <div className='login-ctn'>\r\n            <div className='title-ctn'> \r\n             <Link to='/'><h1 className='title-login'  >My Movies<span className='span-title'>rent</span></h1></Link>\r\n            <div className='input-login-ctn'>\r\n             <h2 style={{color:'#cf4d4d',zIndex:'4',textAlign:'center'}}>{location.state.message}</h2>\r\n                <p>email: bob@gmail.com ,  pasw: 1234</p>\r\n                <p>is active</p>\r\n                <p style={{color:'#cf4d4d' , fontWeight:'600'}}>{erroeMessage}</p>\r\n                <form className='form-login' >\r\n                 <input type='email' name='email' placeholder='Email'  onChange={(e) => setEmail(e.target.value)}/>\r\n                 <input type='password' name='password' placeholder='Password'  onChange={(e) => setPassword(e.target.value)}/>\r\n                 {createAccount && <input type='text' name='name' placeholder='Name' onChange={(e) => setUserName(e.target.value)} />}\r\n                 {createAccount ? <button onClick={handleRegister} >Register</button>\r\n                  : <button onClick={handleLogin} >Log In</button>}\r\n                </form>\r\n                <p>{createAccount ? \"You have a account...\" : \"Don't have a account...\"}\r\n                <span style={{color:'#cf4d4d',fontWeight:'600', cursor:'pointer'}} onClick={()=> setCreateAccount(!createAccount) } >{createAccount ? ' Log in' :' Create One'}</span>\r\n            </p>     \r\n            </div>\r\n            </div>\r\n            <img src='/images/loginMyRent.jpg' alt='Login Pages' />\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}