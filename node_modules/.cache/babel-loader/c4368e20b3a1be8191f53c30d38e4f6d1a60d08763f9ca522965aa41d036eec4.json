{"ast":null,"code":"import _slicedToArray from\"C:/Users/UTENTE/Desktop/GitHub/MyMoviesRent/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from'react';import{Context}from'../context';import{Link}from'react-router-dom';import useDelayedState from'use-delayed-state';import YouTube from'react-youtube';import'../style/topRatedSlide.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function TopRatedSlide(props){var _useContext=useContext(Context),wishMovie=_useContext.wishMovie,addToCart=_useContext.addToCart,removeToCart=_useContext.removeToCart,CartMovie=_useContext.CartMovie,addTowishMovie=_useContext.addTowishMovie,removeTowishMovie=_useContext.removeTowishMovie;var _useDelayedState=useDelayedState(false),_useDelayedState2=_slicedToArray(_useDelayedState,2),hover=_useDelayedState2[0],setHover=_useDelayedState2[1];var _useDelayedState3=useDelayedState(false),_useDelayedState4=_slicedToArray(_useDelayedState3,2),hoverVideo=_useDelayedState4[0],setHoverVideo=_useDelayedState4[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),getVideo=_useState2[0],setGetVideo=_useState2[1];useEffect(function(){fetch(\"https://api.themoviedb.org/3/\".concat(props.movie,\"/\").concat(props.id,\"/videos?api_key=efc42faadb8a20858df7818520bb9d80&language=en-US&name&append_to_response=videos\")).then(function(response){return response.json();}).then(function(data){return setGetVideo(data.results[0]);});},[props.id,props.movie]);function hoverTrue(){setHover(true,300);setHoverVideo(true,1000);}function hoverFalse(){setHover(false,-300);setHoverVideo(false,-1000);}function cart(){var isAdded=CartMovie.find(function(movie){return movie.id===props.id;});if(isAdded){return/*#__PURE__*/_jsx(\"div\",{className:\"list-shopping\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ri-shopping-bag-fill topRated-unrent-icon\",onClick:function onClick(){return removeToCart(props.itemCart.id);}})});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"list-shopping\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ri-shopping-bag-line topRated-unrent-icon\",onClick:function onClick(){return addToCart(props.itemCart);}})});}}function heart(){var isAdded=wishMovie.find(function(movie){return movie.id===props.id;});if(isAdded){return/*#__PURE__*/_jsx(\"div\",{className:\"top-shopping\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ri-heart-fill heart-topRated\",onClick:function onClick(){return removeTowishMovie(props.itemCart.id);}})});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"top-shopping\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ri-heart-line heart-topRated\",onClick:function onClick(){return addTowishMovie(props.itemCart);}})});}}var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),mobileInfo=_useState4[0],setMobileInfo=_useState4[1];useEffect(function(){var resizeInfo=function resizeInfo(){if(window.innerWidth<=700){setMobileInfo(true);setHover(false);}else{setMobileInfo(false);}};window.addEventListener('resize',resizeInfo);resizeInfo();return function(){window.removeEventListener('resize',resizeInfo);};},[mobileInfo,hover]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"topRated-slide-big\",onMouseEnter:function onMouseEnter(){return hoverTrue();},onMouseLeave:function onMouseLeave(){return hoverFalse();},children:hover&&mobileInfo===false?/*#__PURE__*/_jsx(\"div\",{className:\"topRated-list-ctn\",onMouseLeave:function onMouseLeave(){return hoverFalse();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-overview-topRated\",onMouseLeave:function onMouseLeave(){return hoverFalse();},children:[hoverVideo?/*#__PURE__*/_jsx(YouTube,{onMouseLeave:function onMouseLeave(){return hoverFalse();},className:hover?'youtube-trailer-topRated margin-videos':\"youtube-trailer-topRated\",videoId:\"\".concat(getVideo.key),autoPlay:true}):/*#__PURE__*/_jsx(\"img\",{src:props.img,alt:props.title}),/*#__PURE__*/_jsx(\"div\",{className:\"list-padding-ctn-topRated\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-title-flex-topRated\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"list-title-topRated\",children:props.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-icon-ctn-topRated\",children:[cart(),heart(),/*#__PURE__*/_jsx(\"div\",{className:\"list-shopping\",children:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.movie,\"/\").concat(props.id),state:props.state,children:/*#__PURE__*/_jsx(\"i\",{className:\"ri-spy-line spy-topRated \"})})})]})]})})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"list-overview-topRated\",children:mobileInfo?/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.movie,\"/\").concat(props.id),state:props.state,children:/*#__PURE__*/_jsx(\"img\",{className:\"mobile-img\",src:props.url,alt:props.title})}):/*#__PURE__*/_jsx(\"img\",{src:props.url,alt:props.title})})})});}","map":{"version":3,"names":["React","useState","useContext","useEffect","Context","Link","useDelayedState","YouTube","TopRatedSlide","props","wishMovie","addToCart","removeToCart","CartMovie","addTowishMovie","removeTowishMovie","hover","setHover","hoverVideo","setHoverVideo","getVideo","setGetVideo","fetch","movie","id","then","response","json","data","results","hoverTrue","hoverFalse","cart","isAdded","find","itemCart","heart","mobileInfo","setMobileInfo","resizeInfo","window","innerWidth","addEventListener","removeEventListener","key","img","title","state","url"],"sources":["C:/Users/UTENTE/Desktop/GitHub/MyMoviesRent/src/componentChild/topRatedSlide.js"],"sourcesContent":["import React , {useState ,useContext , useEffect} from 'react'\r\nimport { Context } from '../context'\r\nimport { Link } from 'react-router-dom'\r\nimport useDelayedState from 'use-delayed-state'\r\nimport  YouTube from 'react-youtube'\r\nimport '../style/topRatedSlide.css'\r\n\r\nexport default function TopRatedSlide(props){\r\n    const {wishMovie , addToCart , removeToCart , CartMovie , addTowishMovie , removeTowishMovie} = useContext(Context)\r\n    const [hover , setHover] = useDelayedState(false)\r\n    const [hoverVideo ,setHoverVideo] = useDelayedState(false)\r\n    const [ getVideo , setGetVideo] = useState('')\r\n   \r\n    useEffect(()=>{\r\n        fetch(`https://api.themoviedb.org/3/${props.movie}/${props.id}/videos?api_key=efc42faadb8a20858df7818520bb9d80&language=en-US&name&append_to_response=videos`)\r\n        .then(response => response.json())\r\n        .then(data=> setGetVideo(data.results[0]))\r\n      },[props.id , props.movie])\r\n\r\n    function hoverTrue(){\r\n        setHover(true , 300 ) \r\n        setHoverVideo(true,1000 ) \r\n      }\r\n      function hoverFalse(){\r\n         setHover(false , -300 )\r\n         setHoverVideo(false ,-1000 )\r\n        }\r\n    function cart(){\r\n        const isAdded = CartMovie.find(movie => movie.id === props.id)\r\n        if(isAdded){\r\n            return (<div className='list-shopping'>\r\n                   <i className=\"ri-shopping-bag-fill topRated-unrent-icon\"\r\n                     onClick={()=>removeToCart(props.itemCart.id)} >\r\n                    </i>\r\n                   </div>)\r\n        }else {\r\n            return ( <div className='list-shopping'> \r\n                   <i className=\"ri-shopping-bag-line topRated-unrent-icon\"\r\n                    onClick={()=>addToCart(props.itemCart)}>\r\n                    </i>\r\n          </div>)\r\n        }\r\n    }\r\n    function heart(){\r\n        const isAdded = wishMovie.find(movie => movie.id === props.id)\r\n        if(isAdded){\r\n            return (<div className='top-shopping'>\r\n                    <i className=\"ri-heart-fill heart-topRated\" \r\n                     onClick={()=>removeTowishMovie(props.itemCart.id)}>\r\n                     </i>\r\n                     </div>\r\n                     )\r\n                           }else {\r\n                            return (<div className='top-shopping'>\r\n                            <i className=\"ri-heart-line heart-topRated\" \r\n                             onClick={()=>addTowishMovie(props.itemCart)}>\r\n                             </i>\r\n                            </div>\r\n                             )\r\n                           }\r\n                        }\r\n\r\n        const [mobileInfo ,setMobileInfo] = useState(false)\r\n        useEffect(()=>{\r\n          const resizeInfo = ()=>{\r\n            if(window.innerWidth <= 700){\r\n              setMobileInfo(true)\r\n              setHover(false)\r\n            } else {\r\n            setMobileInfo(false)\r\n            }\r\n          }\r\n          window.addEventListener('resize' , resizeInfo)\r\n          resizeInfo()\r\n          return () => {\r\n            window.removeEventListener('resize' , resizeInfo)\r\n          }\r\n        },[mobileInfo , hover])  \r\n\r\n    return(\r\n        <>\r\n        <div className='topRated-slide-big' onMouseEnter={()=>hoverTrue()}  onMouseLeave={()=>hoverFalse()}>           \r\n           {hover && mobileInfo === false ? <div className='topRated-list-ctn' onMouseLeave={()=>hoverFalse()}>        \r\n                 <div className='list-overview-topRated' onMouseLeave={()=>hoverFalse()}> \r\n                   {hoverVideo ?<YouTube onMouseLeave={()=>hoverFalse()} className={hover ? 'youtube-trailer-topRated margin-videos' :\"youtube-trailer-topRated\"}  videoId={`${getVideo.key}`} autoPlay={true} /> \r\n                     : <img  src={props.img} alt={props.title}  />}\r\n                 <div className='list-padding-ctn-topRated' >\r\n                  <div className='list-title-flex-topRated'>\r\n                   <h1 className='list-title-topRated'>{props.title}</h1>\r\n                  <div className='list-icon-ctn-topRated'>\r\n                     {cart()}\r\n                     {heart()}\r\n                   <div className='list-shopping'>\r\n                    <Link to={`/${props.movie}/${props.id}`} state={props.state}>\r\n                      <i className=\"ri-spy-line spy-topRated \"></i>\r\n                    </Link>\r\n                   </div>\r\n                  </div>\r\n                 </div>                                 \r\n                 </div>\r\n                 </div>\r\n             </div> : \r\n                <div className='list-overview-topRated' >\r\n                  {mobileInfo ? <Link to={`/${props.movie}/${props.id}`} state={props.state}>\r\n                                 <img className='mobile-img' src={props.url} alt={props.title}   />\r\n                              </Link>\r\n                   : <img src={props.url} alt={props.title}   />}\r\n               </div>\r\n               }\r\n            \r\n        </div>\r\n        \r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}